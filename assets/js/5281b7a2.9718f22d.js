"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[2443],{936(e,r,n){n.r(r),n.d(r,{assets:()=>o,contentTitle:()=>t,default:()=>h,frontMatter:()=>l,metadata:()=>i,toc:()=>a});const i=JSON.parse('{"id":"architecture","title":"Architecture - Core Principles","description":"This section explains how MicroClaw is designed for long-running agent workflows while staying maintainable as channels/tools/models grow.","source":"@site/docs/architecture.md","sourceDirName":".","slug":"/architecture","permalink":"/docs/architecture","draft":false,"unlisted":false,"editUrl":"https://github.com/microclaw/microclaw/tree/main/docs/architecture.md","tags":[],"version":"current","sidebarPosition":9,"frontMatter":{"id":"architecture","title":"Architecture - Core Principles","sidebar_position":9},"sidebar":"docs","previous":{"title":"Scheduler","permalink":"/docs/scheduler"},"next":{"title":"Architecture - Context Lifecycle","permalink":"/docs/architecture-context"}}');var s=n(4848),c=n(8453);const l={id:"architecture",title:"Architecture - Core Principles",sidebar_position:9},t=void 0,o={},a=[{value:"Design goals",id:"design-goals",level:2},{value:"High-level runtime flow",id:"high-level-runtime-flow",level:2},{value:"Core modules",id:"core-modules",level:2},{value:"Recommended reading order",id:"recommended-reading-order",level:2}];function d(e){const r={a:"a",code:"code",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,c.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(r.p,{children:"This section explains how MicroClaw is designed for long-running agent workflows while staying maintainable as channels/tools/models grow."}),"\n",(0,s.jsx)(r.h2,{id:"design-goals",children:"Design goals"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"Platform-agnostic agent core: conversation + tool loop should not be tightly coupled to Telegram/Discord/Web handlers."}),"\n",(0,s.jsx)(r.li,{children:"Safe-by-default execution: tool permissions, risk levels, and explicit approval for dangerous operations."}),"\n",(0,s.jsx)(r.li,{children:"Durable state: sessions, messages, tasks, and memory persisted in SQLite/filesystem."}),"\n",(0,s.jsx)(r.li,{children:"Single-binary operations: no required Python runtime, predictable deployment model."}),"\n",(0,s.jsx)(r.li,{children:"Extensibility: MCP tools + local skills + built-in tools, with clear boundaries."}),"\n"]}),"\n",(0,s.jsx)(r.h2,{id:"high-level-runtime-flow",children:"High-level runtime flow"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-text",children:"Channel event -> Gateway adapter -> Agent engine -> LLM + Tools loop\n                 |                                 |\n                 v                                 v\n           channel persistence               state + memory + sessions\n"})}),"\n",(0,s.jsx)(r.h2,{id:"core-modules",children:"Core modules"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:"microclaw-core"})," (",(0,s.jsx)(r.code,{children:"crates/microclaw-core"}),"): shared errors, LLM types, and text utilities."]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:"microclaw-storage"})," (",(0,s.jsx)(r.code,{children:"crates/microclaw-storage"}),"): DB schema/queries, structured memory lifecycle, usage reporting."]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:"microclaw-tools"})," (",(0,s.jsx)(r.code,{children:"crates/microclaw-tools"}),"): tool runtime primitives (auth/risk/schema/path), sandbox, shared tool helper engines."]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:"microclaw-channels"})," (",(0,s.jsx)(r.code,{children:"crates/microclaw-channels"}),"): channel abstraction boundary and routing contracts."]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:"microclaw-app"})," (",(0,s.jsx)(r.code,{children:"crates/microclaw-app"}),"): app-level support modules (logging, bundled skills, transcribe)."]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:"src/"})," runtime layer (",(0,s.jsx)(r.code,{children:"src/main.rs"}),", ",(0,s.jsx)(r.code,{children:"src/runtime.rs"}),", ",(0,s.jsx)(r.code,{children:"src/agent_engine.rs"}),", ",(0,s.jsx)(r.code,{children:"src/web.rs"}),", ",(0,s.jsx)(r.code,{children:"src/channels/*.rs"}),", ",(0,s.jsx)(r.code,{children:"src/tools/*.rs"}),"): orchestration and concrete adapter/tool implementations."]}),"\n"]}),"\n",(0,s.jsx)(r.h2,{id:"recommended-reading-order",children:"Recommended reading order"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.a,{href:"./architecture-context",children:"Context Lifecycle"})}),"\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.a,{href:"./architecture-skills",children:"Skills Architecture"})}),"\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.a,{href:"./architecture-mcp",children:"MCP Architecture"})}),"\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.a,{href:"./architecture-channels",children:"Channels and Gateway"})}),"\n"]})]})}function h(e={}){const{wrapper:r}={...(0,c.R)(),...e.components};return r?(0,s.jsx)(r,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},8453(e,r,n){n.d(r,{R:()=>l,x:()=>t});var i=n(6540);const s={},c=i.createContext(s);function l(e){const r=i.useContext(c);return i.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function t(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),i.createElement(c.Provider,{value:r},e.children)}}}]);