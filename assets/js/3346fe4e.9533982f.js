"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[8857],{8043(e,n,i){i.r(n),i.d(n,{assets:()=>t,contentTitle:()=>o,default:()=>h,frontMatter:()=>c,metadata:()=>s,toc:()=>a});const s=JSON.parse('{"id":"channel-setup","title":"Channel Setup","description":"This guide explains how to connect MicroClaw to Telegram, Discord, Slack, Feishu/Lark, and IRC.","source":"@site/docs/channel-setup.md","sourceDirName":".","slug":"/channel-setup","permalink":"/docs/channel-setup","draft":false,"unlisted":false,"editUrl":"https://github.com/microclaw/microclaw/tree/main/docs/channel-setup.md","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"id":"channel-setup","title":"Channel Setup","sidebar_position":4},"sidebar":"docs","previous":{"title":"Installation","permalink":"/docs/installation"},"next":{"title":"Configuration","permalink":"/docs/configuration"}}');var l=i(4848),r=i(8453);const c={id:"channel-setup",title:"Channel Setup",sidebar_position:4},o=void 0,t={},a=[{value:"Telegram",id:"telegram",level:2},{value:"1. Create a bot token",id:"1-create-a-bot-token",level:3},{value:"2. Configure MicroClaw",id:"2-configure-microclaw",level:3},{value:"3. Verify",id:"3-verify",level:3},{value:"Discord",id:"discord",level:2},{value:"1. Create a Discord bot",id:"1-create-a-discord-bot",level:3},{value:"2. Configure MicroClaw",id:"2-configure-microclaw-1",level:3},{value:"3. Verify",id:"3-verify-1",level:3},{value:"Slack",id:"slack",level:2},{value:"1. Create a Slack app",id:"1-create-a-slack-app",level:3},{value:"2. Configure MicroClaw",id:"2-configure-microclaw-2",level:3},{value:"3. Verify",id:"3-verify-2",level:3},{value:"Feishu / Lark",id:"feishu--lark",level:2},{value:"1. Create a Feishu app",id:"1-create-a-feishu-app",level:3},{value:"2. Configure MicroClaw",id:"2-configure-microclaw-3",level:3},{value:"3. Verify",id:"3-verify-3",level:3},{value:"IRC",id:"irc",level:2},{value:"1. Prepare server details",id:"1-prepare-server-details",level:3},{value:"2. Configure MicroClaw",id:"2-configure-microclaw-4",level:3},{value:"3. Verify",id:"3-verify-4",level:3},{value:"Multi-channel Example",id:"multi-channel-example",level:2},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"No channel starts",id:"no-channel-starts",level:3},{value:"Telegram responds in private but not group",id:"telegram-responds-in-private-but-not-group",level:3},{value:"Discord bot is online but silent",id:"discord-bot-is-online-but-silent",level:3},{value:"Discord shows <code>4014 Disallowed intent(s)</code>",id:"discord-shows-4014-disallowed-intents",level:3}];function d(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.p,{children:"This guide explains how to connect MicroClaw to Telegram, Discord, Slack, Feishu/Lark, and IRC."}),"\n",(0,l.jsx)(n.p,{children:"MicroClaw can run with any combination of channels. You only need at least one of:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Telegram"}),"\n",(0,l.jsx)(n.li,{children:"Discord"}),"\n",(0,l.jsx)(n.li,{children:"Slack"}),"\n",(0,l.jsx)(n.li,{children:"Feishu / Lark"}),"\n",(0,l.jsx)(n.li,{children:"IRC"}),"\n",(0,l.jsxs)(n.li,{children:["Web UI (",(0,l.jsx)(n.code,{children:"web_enabled: true"}),")"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"telegram",children:"Telegram"}),"\n",(0,l.jsx)(n.h3,{id:"1-create-a-bot-token",children:"1. Create a bot token"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["Open Telegram and start a chat with ",(0,l.jsx)(n.code,{children:"@BotFather"})]}),"\n",(0,l.jsxs)(n.li,{children:["Run ",(0,l.jsx)(n.code,{children:"/newbot"})]}),"\n",(0,l.jsxs)(n.li,{children:["Enter a display name (for example ",(0,l.jsx)(n.code,{children:"MicroClaw Dev Bot"}),")"]}),"\n",(0,l.jsxs)(n.li,{children:["Enter a username that ends with ",(0,l.jsx)(n.code,{children:"bot"})," (for example ",(0,l.jsx)(n.code,{children:"my_microclaw_bot"}),")"]}),"\n",(0,l.jsxs)(n.li,{children:["BotFather returns an HTTP API token (format like ",(0,l.jsx)(n.code,{children:"123456:ABC..."}),") and your bot username"]}),"\n",(0,l.jsx)(n.li,{children:"Copy the token immediately and keep it secret"}),"\n",(0,l.jsxs)(n.li,{children:["Save token to your config as ",(0,l.jsx)(n.code,{children:"telegram_bot_token"})," (legacy single-account mode) or ",(0,l.jsx)(n.code,{children:"channels.telegram.accounts.<id>.bot_token"})," (recommended multi-account mode)"]}),"\n",(0,l.jsxs)(n.li,{children:["Save username (without ",(0,l.jsx)(n.code,{children:"@"}),") to your config as global ",(0,l.jsx)(n.code,{children:"bot_username"}),", ",(0,l.jsx)(n.code,{children:"channels.telegram.bot_username"}),", or per-account ",(0,l.jsx)(n.code,{children:"channels.telegram.accounts.<id>.bot_username"})]}),"\n",(0,l.jsxs)(n.li,{children:["Optional but useful in groups: run ",(0,l.jsx)(n.code,{children:"/setprivacy"})," in BotFather and choose ",(0,l.jsx)(n.code,{children:"Disable"})," if you want the bot to see non-mention group messages"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"2-configure-microclaw",children:"2. Configure MicroClaw"}),"\n",(0,l.jsx)(n.p,{children:"Legacy single-account:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-yaml",children:'telegram_bot_token: "123456:ABC-DEF1234..."\nbot_username: "my_microclaw_bot"\n'})}),"\n",(0,l.jsx)(n.p,{children:"Recommended multi-account (multi-token, multi-bot):"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-yaml",children:'channels:\n  telegram:\n    enabled: true\n    default_account: "main"\n    accounts:\n      main:\n        enabled: true\n        bot_token: "123456:ABC-DEF1234..."\n        bot_username: "my_microclaw_bot"\n      support:\n        enabled: true\n        bot_token: "987654:XYZ-DEF9999..."\n        bot_username: "my_support_bot"\n        # Optional group allowlist for this account only\n        # allowed_groups: [-1001234567890]\n'})}),"\n",(0,l.jsx)(n.p,{children:"Notes:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["In group chats, mention that account's username (for example ",(0,l.jsx)(n.code,{children:"@my_support_bot"}),") to trigger replies."]}),"\n",(0,l.jsx)(n.li,{children:"In multi-account mode, each configured account runs as a separate Telegram bot in the same MicroClaw process."}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"bot_username"})," should not include ",(0,l.jsx)(n.code,{children:"@"})," in config."]}),"\n",(0,l.jsxs)(n.li,{children:["If you rotate token in BotFather (",(0,l.jsx)(n.code,{children:"/revoke"}),"), update the corresponding ",(0,l.jsx)(n.code,{children:"bot_token"})," and restart MicroClaw."]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"3-verify",children:"3. Verify"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["Start MicroClaw: ",(0,l.jsx)(n.code,{children:"microclaw start"})]}),"\n",(0,l.jsxs)(n.li,{children:["Send ",(0,l.jsx)(n.code,{children:"/skills"})," in Telegram"]}),"\n",(0,l.jsx)(n.li,{children:"Confirm the bot replies"}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"discord",children:"Discord"}),"\n",(0,l.jsx)(n.h3,{id:"1-create-a-discord-bot",children:"1. Create a Discord bot"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["Open the Discord Developer Portal: ",(0,l.jsx)(n.code,{children:"https://discord.com/developers/applications"})]}),"\n",(0,l.jsxs)(n.li,{children:["Optional reference: Discord Developers intro docs ",(0,l.jsx)(n.code,{children:"https://docs.discord.com/developers/intro"})]}),"\n",(0,l.jsxs)(n.li,{children:["Click ",(0,l.jsx)(n.strong,{children:"New Application"}),", enter a name, then click ",(0,l.jsx)(n.strong,{children:"Create"})]}),"\n",(0,l.jsxs)(n.li,{children:["In the left sidebar, open ",(0,l.jsx)(n.strong,{children:"Bot"})]}),"\n",(0,l.jsxs)(n.li,{children:["Click ",(0,l.jsx)(n.strong,{children:"Add Bot"}),", then confirm"]}),"\n",(0,l.jsxs)(n.li,{children:["Under the bot profile, click ",(0,l.jsx)(n.strong,{children:"Reset Token"})," (or ",(0,l.jsx)(n.strong,{children:"Copy"})," if token is already shown), then copy the bot token"]}),"\n",(0,l.jsxs)(n.li,{children:["Save that token to your MicroClaw config as ",(0,l.jsx)(n.code,{children:"discord_bot_token"})]}),"\n",(0,l.jsxs)(n.li,{children:["Still in the Developer Portal, open ",(0,l.jsx)(n.strong,{children:"OAuth2 -> URL Generator"})]}),"\n",(0,l.jsxs)(n.li,{children:["In ",(0,l.jsx)(n.strong,{children:"Scopes"}),", check:","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"bot"})}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"applications.commands"})," (recommended, enables slash commands)"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["In ",(0,l.jsx)(n.strong,{children:"Bot Permissions"}),", select at least:"]}),"\n"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"View Channels"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"Send Messages"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"Read Message History"})}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"Mention Everyone"})," is not required"]}),"\n"]}),"\n",(0,l.jsxs)(n.ol,{start:"11",children:["\n",(0,l.jsxs)(n.li,{children:["Scroll to the bottom, find ",(0,l.jsx)(n.strong,{children:"GENERATED URL"}),", then click ",(0,l.jsx)(n.strong,{children:"Copy"})]}),"\n",(0,l.jsx)(n.li,{children:"Paste the copied URL into your browser and open it"}),"\n",(0,l.jsx)(n.li,{children:"In the Discord authorization page:"}),"\n"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Choose your target server"}),"\n",(0,l.jsxs)(n.li,{children:["Click ",(0,l.jsx)(n.strong,{children:"Continue"})]}),"\n",(0,l.jsx)(n.li,{children:"Review permissions"}),"\n",(0,l.jsxs)(n.li,{children:["Click ",(0,l.jsx)(n.strong,{children:"Authorize"})]}),"\n"]}),"\n",(0,l.jsxs)(n.ol,{start:"14",children:["\n",(0,l.jsxs)(n.li,{children:["In the Developer Portal under ",(0,l.jsx)(n.strong,{children:"Bot -> Privileged Gateway Intents"}),", enable ",(0,l.jsx)(n.strong,{children:"Message Content Intent"})," (recommended), then save changes"]}),"\n",(0,l.jsx)(n.li,{children:"Restart MicroClaw after intent changes"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"2-configure-microclaw-1",children:"2. Configure MicroClaw"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-yaml",children:'discord_bot_token: "YOUR_DISCORD_BOT_TOKEN"\n\n# Optional: restrict processing to specific channel IDs\n# discord_allowed_channels:\n#   - 123456789012345678\n#   - 987654321098765432\n'})}),"\n",(0,l.jsx)(n.p,{children:"Recommended multi-account mode:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-yaml",children:'channels:\n  discord:\n    default_account: "main"\n    accounts:\n      main:\n        bot_token: "DISCORD_TOKEN_MAIN"\n      ops:\n        bot_token: "DISCORD_TOKEN_OPS"\n        no_mention: true\n        # Optional channel restriction for this account\n        # allowed_channels: [123456789012345678]\n'})}),"\n",(0,l.jsx)(n.p,{children:"Notes:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["If ",(0,l.jsx)(n.code,{children:"discord_allowed_channels"})," is empty, MicroClaw listens in all channels it can access."]}),"\n",(0,l.jsx)(n.li,{children:"In guild channels, MicroClaw replies when the bot is mentioned."}),"\n",(0,l.jsxs)(n.li,{children:["If ",(0,l.jsx)(n.code,{children:"Message Content Intent"})," is disabled, Discord may block message content in guilds."]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"3-verify-1",children:"3. Verify"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["Start MicroClaw: ",(0,l.jsx)(n.code,{children:"microclaw start"})]}),"\n",(0,l.jsxs)(n.li,{children:["Send ",(0,l.jsx)(n.code,{children:"/skills"})," in an allowed Discord channel"]}),"\n",(0,l.jsx)(n.li,{children:"Confirm the bot replies"}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"slack",children:"Slack"}),"\n",(0,l.jsx)(n.h3,{id:"1-create-a-slack-app",children:"1. Create a Slack app"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["Go to ",(0,l.jsx)(n.a,{href:"https://api.slack.com/apps",children:"api.slack.com/apps"})," and click ",(0,l.jsx)(n.strong,{children:"Create New App"})]}),"\n",(0,l.jsxs)(n.li,{children:["Choose ",(0,l.jsx)(n.strong,{children:"From scratch"}),", enter a name, and select your workspace"]}),"\n",(0,l.jsxs)(n.li,{children:["In the left sidebar, open ",(0,l.jsx)(n.strong,{children:"Socket Mode"})," and enable it"]}),"\n",(0,l.jsxs)(n.li,{children:["Create an app-level token with ",(0,l.jsx)(n.code,{children:"connections:write"})," scope -- this is your ",(0,l.jsx)(n.code,{children:"app_token"})," (starts with ",(0,l.jsx)(n.code,{children:"xapp-"}),")"]}),"\n",(0,l.jsxs)(n.li,{children:["In the left sidebar, open ",(0,l.jsx)(n.strong,{children:"OAuth & Permissions"})]}),"\n",(0,l.jsxs)(n.li,{children:["Under ",(0,l.jsx)(n.strong,{children:"Bot Token Scopes"}),", add: ",(0,l.jsx)(n.code,{children:"chat:write"}),", ",(0,l.jsx)(n.code,{children:"channels:history"}),", ",(0,l.jsx)(n.code,{children:"groups:history"}),", ",(0,l.jsx)(n.code,{children:"im:history"}),", ",(0,l.jsx)(n.code,{children:"mpim:history"}),", ",(0,l.jsx)(n.code,{children:"app_mentions:read"})]}),"\n",(0,l.jsxs)(n.li,{children:["Click ",(0,l.jsx)(n.strong,{children:"Install to Workspace"})," and authorize -- copy the ",(0,l.jsx)(n.strong,{children:"Bot User OAuth Token"})," (starts with ",(0,l.jsx)(n.code,{children:"xoxb-"}),") as your ",(0,l.jsx)(n.code,{children:"bot_token"})]}),"\n",(0,l.jsxs)(n.li,{children:["In the left sidebar, open ",(0,l.jsx)(n.strong,{children:"Event Subscriptions"})," and enable events"]}),"\n",(0,l.jsxs)(n.li,{children:["Under ",(0,l.jsx)(n.strong,{children:"Subscribe to bot events"}),", add: ",(0,l.jsx)(n.code,{children:"message.channels"}),", ",(0,l.jsx)(n.code,{children:"message.groups"}),", ",(0,l.jsx)(n.code,{children:"message.im"}),", ",(0,l.jsx)(n.code,{children:"message.mpim"}),", ",(0,l.jsx)(n.code,{children:"app_mention"})]}),"\n",(0,l.jsx)(n.li,{children:"Save changes"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"2-configure-microclaw-2",children:"2. Configure MicroClaw"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-yaml",children:'channels:\n  slack:\n    bot_token: "xoxb-..."\n    app_token: "xapp-..."\n    # Optional: restrict to specific channel IDs\n    # allowed_channels: []\n'})}),"\n",(0,l.jsx)(n.p,{children:"Recommended multi-account mode:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-yaml",children:'channels:\n  slack:\n    default_account: "main"\n    accounts:\n      main:\n        bot_token: "xoxb-main..."\n        app_token: "xapp-main..."\n      support:\n        bot_token: "xoxb-support..."\n        app_token: "xapp-support..."\n        # Optional account-specific channel filter\n        # allowed_channels: ["C123ABC456"]\n'})}),"\n",(0,l.jsx)(n.h3,{id:"3-verify-2",children:"3. Verify"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["Start MicroClaw: ",(0,l.jsx)(n.code,{children:"microclaw start"})]}),"\n",(0,l.jsxs)(n.li,{children:["Send ",(0,l.jsx)(n.code,{children:"/skills"})," in a Slack DM with the bot"]}),"\n",(0,l.jsx)(n.li,{children:"Confirm the bot replies"}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"feishu--lark",children:"Feishu / Lark"}),"\n",(0,l.jsx)(n.h3,{id:"1-create-a-feishu-app",children:"1. Create a Feishu app"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["Go to ",(0,l.jsx)(n.a,{href:"https://open.feishu.cn/app",children:"Feishu Open Platform"})," (or ",(0,l.jsx)(n.a,{href:"https://open.larksuite.com/app",children:"Lark Developer"})," for international)"]}),"\n",(0,l.jsxs)(n.li,{children:["Click ",(0,l.jsx)(n.strong,{children:"Create Custom App"})]}),"\n",(0,l.jsxs)(n.li,{children:["In ",(0,l.jsx)(n.strong,{children:"Credentials & Basic Info"}),", copy the ",(0,l.jsx)(n.code,{children:"App ID"})," and ",(0,l.jsx)(n.code,{children:"App Secret"})]}),"\n",(0,l.jsxs)(n.li,{children:["In ",(0,l.jsx)(n.strong,{children:"Permissions & Scopes"}),", add: ",(0,l.jsx)(n.code,{children:"im:message"}),", ",(0,l.jsx)(n.code,{children:"im:message:send_as_bot"}),", ",(0,l.jsx)(n.code,{children:"im:resource"})]}),"\n",(0,l.jsxs)(n.li,{children:["In ",(0,l.jsx)(n.strong,{children:"Events & Callbacks"}),", select ",(0,l.jsx)(n.strong,{children:"Long Connection"})," mode (recommended) or configure a webhook URL"]}),"\n",(0,l.jsxs)(n.li,{children:["Under ",(0,l.jsx)(n.strong,{children:"Event Subscriptions"}),", add: ",(0,l.jsx)(n.code,{children:"im.message.receive_v1"})]}),"\n",(0,l.jsx)(n.li,{children:"Publish the app version and approve it in your organization admin panel"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"2-configure-microclaw-3",children:"2. Configure MicroClaw"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-yaml",children:'channels:\n  feishu:\n    app_id: "cli_xxx"\n    app_secret: "xxx"\n    # "websocket" (default, no public URL needed) or "webhook"\n    connection_mode: "websocket"\n    # "feishu" (China), "lark" (international), or custom URL\n    domain: "feishu"\n    # Optional: restrict to specific chat IDs\n    # allowed_chats: []\n    # Webhook-only settings:\n    # webhook_path: "/feishu/events"\n    # verification_token: ""\n'})}),"\n",(0,l.jsx)(n.p,{children:"Recommended multi-account mode:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-yaml",children:'channels:\n  feishu:\n    default_account: "main"\n    accounts:\n      main:\n        app_id: "cli_xxx"\n        app_secret: "xxx"\n        domain: "feishu"\n      intl:\n        app_id: "cli_yyy"\n        app_secret: "yyy"\n        domain: "lark"\n        # Optional account-specific chat filter\n        # allowed_chats: ["oc_xxx"]\n'})}),"\n",(0,l.jsx)(n.p,{children:"Notes:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"WebSocket mode (default) requires no public URL -- works behind NAT/firewall, ideal for local development."}),"\n",(0,l.jsxs)(n.li,{children:["Webhook mode requires a publicly accessible URL. Configure ",(0,l.jsx)(n.code,{children:"webhook_path"})," and optionally ",(0,l.jsx)(n.code,{children:"verification_token"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:["Set ",(0,l.jsx)(n.code,{children:'domain: "lark"'})," for international Lark accounts."]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"3-verify-3",children:"3. Verify"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["Start MicroClaw: ",(0,l.jsx)(n.code,{children:"microclaw start"})]}),"\n",(0,l.jsxs)(n.li,{children:["Send ",(0,l.jsx)(n.code,{children:"/skills"})," in a Feishu DM with the bot"]}),"\n",(0,l.jsx)(n.li,{children:"Confirm the bot replies"}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"irc",children:"IRC"}),"\n",(0,l.jsx)(n.h3,{id:"1-prepare-server-details",children:"1. Prepare server details"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsx)(n.li,{children:"Confirm reachable IRC host and port"}),"\n",(0,l.jsx)(n.li,{children:"Reserve a bot nick (and optional server password)"}),"\n",(0,l.jsxs)(n.li,{children:["Prepare one or more channels to auto-join (for example ",(0,l.jsx)(n.code,{children:"#general,#ops"}),")"]}),"\n",(0,l.jsxs)(n.li,{children:["If your network requires TLS, use ",(0,l.jsx)(n.code,{children:'port: "6697"'})," and set ",(0,l.jsx)(n.code,{children:'tls: "true"'})]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"2-configure-microclaw-4",children:"2. Configure MicroClaw"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-yaml",children:'channels:\n  irc:\n    server: "irc.example.com"\n    port: "6667"\n    nick: "microclaw"\n    channels: "#general,#ops"\n    # Optional:\n    # username: "microclaw"\n    # real_name: "MicroClaw"\n    # password: ""\n    # mention_required: "true"\n    # tls: "false"\n    # tls_server_name: ""\n    # tls_danger_accept_invalid_certs: "false"\n'})}),"\n",(0,l.jsx)(n.p,{children:"Notes:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"In IRC private messages, MicroClaw replies to every message."}),"\n",(0,l.jsxs)(n.li,{children:["In IRC channels, default behavior is mention-triggered replies (",(0,l.jsx)(n.code,{children:'mention_required: "true"'}),")."]}),"\n",(0,l.jsx)(n.li,{children:"For TLS deployments, keep certificate validation enabled unless you are testing locally."}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"3-verify-4",children:"3. Verify"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["Start MicroClaw: ",(0,l.jsx)(n.code,{children:"microclaw start"})]}),"\n",(0,l.jsxs)(n.li,{children:["In an IRC channel, mention your bot nick and send ",(0,l.jsx)(n.code,{children:"/skills"})]}),"\n",(0,l.jsx)(n.li,{children:"Confirm the bot replies"}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"multi-channel-example",children:"Multi-channel Example"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-yaml",children:'# LLM\nllm_provider: "anthropic"\napi_key: "sk-ant-..."\nmodel: "claude-sonnet-4-5-20250929"\n\n# Channels (any combination)\n# Telegram legacy single-account (optional alternative to accounts):\n# telegram_bot_token: "123456:ABC..."\n# bot_username: "my_microclaw_bot"\ndiscord_bot_token: "..."\nweb_enabled: true\n\nchannels:\n  telegram:\n    default_account: "main"\n    accounts:\n      main:\n        bot_token: "123456:ABC..."\n        bot_username: "my_microclaw_bot"\n      ops:\n        bot_token: "345678:XYZ..."\n        bot_username: "my_ops_bot"\n  discord:\n    bot_username: "my_discord_bot"\n  slack:\n    bot_token: "xoxb-..."\n    app_token: "xapp-..."\n    bot_username: "my_slack_bot"\n  feishu:\n    app_id: "cli_xxx"\n    app_secret: "xxx"\n    domain: "feishu"\n    bot_username: "my_feishu_bot"\n  irc:\n    server: "irc.example.com"\n    nick: "my_irc_bot"\n    channels: "#general"\n  web:\n    bot_username: "my_web_bot"\n'})}),"\n",(0,l.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,l.jsx)(n.h3,{id:"no-channel-starts",children:"No channel starts"}),"\n",(0,l.jsx)(n.p,{children:"Run:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sh",children:"microclaw doctor\n"})}),"\n",(0,l.jsx)(n.p,{children:"Then check:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"token fields are non-empty"}),"\n",(0,l.jsx)(n.li,{children:"at least one channel is enabled"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"telegram-responds-in-private-but-not-group",children:"Telegram responds in private but not group"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Confirm bot is added to the group"}),"\n",(0,l.jsxs)(n.li,{children:["Mention the active account username in group messages (for example ",(0,l.jsx)(n.code,{children:"@my_microclaw_bot"})," or ",(0,l.jsx)(n.code,{children:"@my_ops_bot"}),")"]}),"\n",(0,l.jsxs)(n.li,{children:["Confirm configured username matches BotFather username (without ",(0,l.jsx)(n.code,{children:"@"}),")"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"discord-bot-is-online-but-silent",children:"Discord bot is online but silent"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Check bot has ",(0,l.jsx)(n.code,{children:"View Channels"}),", ",(0,l.jsx)(n.code,{children:"Send Messages"}),", and ",(0,l.jsx)(n.code,{children:"Read Message History"})," permissions"]}),"\n",(0,l.jsxs)(n.li,{children:["In guild channels, mention the bot (for example ",(0,l.jsx)(n.code,{children:"@my_bot hello"}),")"]}),"\n",(0,l.jsxs)(n.li,{children:["If using ",(0,l.jsx)(n.code,{children:"discord_allowed_channels"}),", verify channel IDs are correct"]}),"\n",(0,l.jsxs)(n.li,{children:["Enable ",(0,l.jsx)(n.strong,{children:"Message Content Intent"})," in Discord Developer Portal (",(0,l.jsx)(n.code,{children:"Bot -> Privileged Gateway Intents"}),")"]}),"\n",(0,l.jsxs)(n.li,{children:["If you could not select your server during invite, verify your Discord account has ",(0,l.jsx)(n.code,{children:"Manage Server"})," permission in that server"]}),"\n",(0,l.jsxs)(n.li,{children:["If ",(0,l.jsx)(n.code,{children:"GENERATED URL"})," does not appear, re-check that ",(0,l.jsx)(n.code,{children:"bot"})," is selected in OAuth2 scopes"]}),"\n"]}),"\n",(0,l.jsxs)(n.h3,{id:"discord-shows-4014-disallowed-intents",children:["Discord shows ",(0,l.jsx)(n.code,{children:"4014 Disallowed intent(s)"})]}),"\n",(0,l.jsxs)(n.p,{children:["This means Discord rejected one or more requested gateway intents, usually ",(0,l.jsx)(n.code,{children:"MESSAGE_CONTENT"}),"."]}),"\n",(0,l.jsx)(n.p,{children:"What to do:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Open Discord Developer Portal -> your app -> ",(0,l.jsx)(n.code,{children:"Bot"})]}),"\n",(0,l.jsxs)(n.li,{children:["Under ",(0,l.jsx)(n.code,{children:"Privileged Gateway Intents"}),", enable ",(0,l.jsx)(n.code,{children:"Message Content Intent"})]}),"\n",(0,l.jsx)(n.li,{children:"Save changes and restart MicroClaw"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"Current MicroClaw behavior:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["MicroClaw first starts with ",(0,l.jsx)(n.code,{children:"MESSAGE_CONTENT"})]}),"\n",(0,l.jsxs)(n.li,{children:["If Discord returns ",(0,l.jsx)(n.code,{children:"4014"}),", MicroClaw automatically falls back to non-privileged intents so the bot can still run"]}),"\n",(0,l.jsxs)(n.li,{children:["Full guild message-content behavior requires ",(0,l.jsx)(n.code,{children:"Message Content Intent"})]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(d,{...e})}):d(e)}},8453(e,n,i){i.d(n,{R:()=>c,x:()=>o});var s=i(6540);const l={},r=s.createContext(l);function c(e){const n=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:c(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);