"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[3633],{4958(e,n,s){s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>c,default:()=>h,frontMatter:()=>d,metadata:()=>l,toc:()=>a});const l=JSON.parse('{"id":"skills-mcp-tutorial","title":"Skills + MCP Tutorial","description":"This tutorial covers two extension paths:","source":"@site/docs/skills-mcp-tutorial.md","sourceDirName":".","slug":"/skills-mcp-tutorial","permalink":"/docs/skills-mcp-tutorial","draft":false,"unlisted":false,"editUrl":"https://github.com/microclaw/microclaw/tree/main/docs/skills-mcp-tutorial.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"id":"skills-mcp-tutorial","title":"Skills + MCP Tutorial","sidebar_position":3},"sidebar":"docs","previous":{"title":"Developer Guide","permalink":"/docs/developer-guide"},"next":{"title":"Testing Guide","permalink":"/docs/testing"}}');var i=s(4848),r=s(8453);const d={id:"skills-mcp-tutorial",title:"Skills + MCP Tutorial",sidebar_position:3},c=void 0,o={},a=[{value:"Part 1: Add a New Skill",id:"part-1-add-a-new-skill",level:2},{value:"1) Create the skill folder",id:"1-create-the-skill-folder",level:3},{value:"2) Add <code>SKILL.md</code>",id:"2-add-skillmd",level:3},{value:"3) Restart and verify",id:"3-restart-and-verify",level:3},{value:"4) Activate manually (sanity check)",id:"4-activate-manually-sanity-check",level:3},{value:"Part 2: Use Built-in <code>find-skills</code> (vercel-labs/skills)",id:"part-2-use-built-in-find-skills-vercel-labsskills",level:2},{value:"5) Sync from external registries (automated)",id:"5-sync-from-external-registries-automated",level:3},{value:"Part 3: Extend MCP",id:"part-3-extend-mcp",level:2},{value:"1) Start from minimal production config",id:"1-start-from-minimal-production-config",level:3},{value:"2) Add an additional MCP server",id:"2-add-an-additional-mcp-server",level:3},{value:"3) Restart and verify MCP loading",id:"3-restart-and-verify-mcp-loading",level:3},{value:"4) Confirm tools are exposed",id:"4-confirm-tools-are-exposed",level:3},{value:"Common pitfalls",id:"common-pitfalls",level:2},{value:"Recommended workflow for teams",id:"recommended-workflow-for-teams",level:2}];function t(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.p,{children:"This tutorial covers two extension paths:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Add or customize ",(0,i.jsx)(n.strong,{children:"Skills"})," (",(0,i.jsx)(n.code,{children:"SKILL.md"})," workflow packs)"]}),"\n",(0,i.jsxs)(n.li,{children:["Extend ",(0,i.jsx)(n.strong,{children:"MCP"})," servers (",(0,i.jsx)(n.code,{children:"mcp.json"})," + ",(0,i.jsx)(n.code,{children:"mcp.d/*.json"})," tool federation)"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Use this page as the operational guide for production setups."}),"\n",(0,i.jsx)(n.h2,{id:"part-1-add-a-new-skill",children:"Part 1: Add a New Skill"}),"\n",(0,i.jsx)(n.h3,{id:"1-create-the-skill-folder",children:"1) Create the skill folder"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"mkdir -p ~/.microclaw/skills/my-skill\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"2-add-skillmd",children:["2) Add ",(0,i.jsx)(n.code,{children:"SKILL.md"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-markdown",children:"---\nname: my-skill\ndescription: One-line summary of what the skill does.\nplatforms: [darwin, linux, windows]\ndeps: [curl]\n---\n\n# My Skill\n\nWhen to use:\n- ...\n\nWorkflow:\n1. ...\n2. ...\n"})}),"\n",(0,i.jsx)(n.p,{children:"Supported frontmatter fields:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"name"})," (required)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"description"})," (required)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"platforms"})," (optional)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"deps"})," (optional)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"compatibility.os"})," and ",(0,i.jsx)(n.code,{children:"compatibility.deps"})," (optional aliases)"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"3-restart-and-verify",children:"3) Restart and verify"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"RUST_LOG=info cargo run -- start\n"})}),"\n",(0,i.jsx)(n.p,{children:"Then in chat:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-text",children:"/skills\n"})}),"\n",(0,i.jsx)(n.p,{children:"If your skill is filtered out, check:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Platform mismatch (",(0,i.jsx)(n.code,{children:"platforms"})," does not include current OS)"]}),"\n",(0,i.jsxs)(n.li,{children:["Missing commands in ",(0,i.jsx)(n.code,{children:"deps"})]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"4-activate-manually-sanity-check",children:"4) Activate manually (sanity check)"}),"\n",(0,i.jsx)(n.p,{children:"Ask the assistant:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-text",children:"activate the skill my-skill and summarize its instructions\n"})}),"\n",(0,i.jsx)(n.p,{children:"If activation fails, the error now includes platform/dependency diagnostics."}),"\n",(0,i.jsxs)(n.h2,{id:"part-2-use-built-in-find-skills-vercel-labsskills",children:["Part 2: Use Built-in ",(0,i.jsx)(n.code,{children:"find-skills"})," (vercel-labs/skills)"]}),"\n",(0,i.jsxs)(n.p,{children:["MicroClaw includes a bundled skill: ",(0,i.jsx)(n.code,{children:"find-skills"}),"."]}),"\n",(0,i.jsx)(n.p,{children:"Goal:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Search ",(0,i.jsx)(n.a,{href:"https://github.com/vercel-labs/skills",children:"vercel-labs/skills"})]}),"\n",(0,i.jsx)(n.li,{children:"Pick best-fit skills by task keyword"}),"\n",(0,i.jsx)(n.li,{children:"Adapt upstream instructions into MicroClaw-compatible local skills"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Example prompts:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-text",children:"Find skills for playwright test debugging from vercel-labs/skills.\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-text",children:"Find a skill for converting docs to PDF and adapt it to this repo.\n"})}),"\n",(0,i.jsx)(n.h3,{id:"5-sync-from-external-registries-automated",children:"5) Sync from external registries (automated)"}),"\n",(0,i.jsxs)(n.p,{children:["MicroClaw includes a ",(0,i.jsx)(n.code,{children:"sync_skills"})," tool that can pull a skill from a remote repo and normalize metadata:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-text",children:"sync skill playwright-debug from vercel-labs/skills\n"})}),"\n",(0,i.jsx)(n.p,{children:"Equivalent tool input shape:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "skill_name": "playwright-debug",\n  "source_repo": "vercel-labs/skills",\n  "git_ref": "main",\n  "target_name": "playwright-debug"\n}\n'})}),"\n",(0,i.jsxs)(n.p,{children:["The synced ",(0,i.jsx)(n.code,{children:"SKILL.md"})," includes normalized fields:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"source"})," (for provenance)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"version"})," (git ref)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"updated_at"})," (sync time)"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"part-3-extend-mcp",children:"Part 3: Extend MCP"}),"\n",(0,i.jsx)(n.h3,{id:"1-start-from-minimal-production-config",children:"1) Start from minimal production config"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"cp mcp.minimal.example.json ~/.microclaw/mcp.json\nmkdir -p ~/.microclaw/mcp.d\n"})}),"\n",(0,i.jsxs)(n.p,{children:["This gives you one safe local MCP server (",(0,i.jsx)(n.code,{children:"filesystem"})," via ",(0,i.jsx)(n.code,{children:"stdio"}),")."]}),"\n",(0,i.jsx)(n.p,{children:"MicroClaw loads MCP config from:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"~/.microclaw/mcp.json"})}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"~/.microclaw/mcp.d/*.json"})," (loaded in filename order; later files override earlier ones for the same server key)"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"2-add-an-additional-mcp-server",children:"2) Add an additional MCP server"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "defaultProtocolVersion": "2025-11-05",\n  "mcpServers": {\n    "filesystem": {\n      "transport": "stdio",\n      "command": "npx",\n      "args": ["-y", "@modelcontextprotocol/server-filesystem", "."]\n    },\n    "my_remote": {\n      "transport": "streamable_http",\n      "endpoint": "http://127.0.0.1:8080/mcp",\n      "headers": {\n        "Authorization": "Bearer REPLACE_ME"\n      },\n      "request_timeout_secs": 60,\n      "max_retries": 2,\n      "health_interval_secs": 30\n    }\n  }\n}\n'})}),"\n",(0,i.jsx)(n.p,{children:"You can place this in either:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["base config: ",(0,i.jsx)(n.code,{children:"~/.microclaw/mcp.json"})]}),"\n",(0,i.jsxs)(n.li,{children:["a fragment such as ",(0,i.jsx)(n.code,{children:"~/.microclaw/mcp.d/10-remote.json"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"For sidecar integrations (for example a bridge process), prefer a dedicated fragment:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"cp mcp.hapi-bridge.example.json ~/.microclaw/mcp.d/hapi-bridge.json\n"})}),"\n",(0,i.jsx)(n.p,{children:"Accepted key aliases:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"defaultProtocolVersion"})," or ",(0,i.jsx)(n.code,{children:"default_protocol_version"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"protocolVersion"})," or ",(0,i.jsx)(n.code,{children:"protocol_version"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"endpoint"})," or ",(0,i.jsx)(n.code,{children:"url"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Reliability knobs:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"request_timeout_secs"}),": per-request timeout"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"max_retries"}),": retry count for stdio reconnect paths"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"health_interval_secs"}),": periodic health probe interval (",(0,i.jsx)(n.code,{children:"0"})," disables probing)"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"3-restart-and-verify-mcp-loading",children:"3) Restart and verify MCP loading"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"RUST_LOG=info cargo run -- start\n"})}),"\n",(0,i.jsx)(n.p,{children:"Look for logs:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"Connecting to MCP server '...'"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"MCP server '...' connected (...)"})}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"4-confirm-tools-are-exposed",children:"4) Confirm tools are exposed"}),"\n",(0,i.jsx)(n.p,{children:"Ask the assistant to list available tools or invoke one MCP namespaced tool."}),"\n",(0,i.jsx)(n.p,{children:"Tool names are exposed as:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-text",children:"mcp_<server_name>_<tool_name>\n"})}),"\n",(0,i.jsx)(n.p,{children:"Example:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-text",children:"mcp_filesystem_read_file\n"})}),"\n",(0,i.jsx)(n.h2,{id:"common-pitfalls",children:"Common pitfalls"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"mcp.json"})," placed in wrong directory: by default it should be ",(0,i.jsx)(n.code,{children:"~/.microclaw/mcp.json"})," (or ",(0,i.jsx)(n.code,{children:"<data_dir>/mcp.json"})," if you changed ",(0,i.jsx)(n.code,{children:"data_dir"}),")"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"mcp.d/*.json"})," fragments placed in wrong directory: use ",(0,i.jsx)(n.code,{children:"<data_dir>/mcp.d/"})," (default ",(0,i.jsx)(n.code,{children:"~/.microclaw/mcp.d/"}),")"]}),"\n",(0,i.jsxs)(n.li,{children:["Missing runtime dependency (",(0,i.jsx)(n.code,{children:"npx"}),", server binary, auth token)"]}),"\n",(0,i.jsxs)(n.li,{children:["Skill appears in repo but not in ",(0,i.jsx)(n.code,{children:"/skills"}),": usually platform/deps filter"]}),"\n",(0,i.jsx)(n.li,{children:"Remote MCP endpoint responds non-JSON-RPC payload"}),"\n",(0,i.jsxs)(n.li,{children:["High-risk tools (for example ",(0,i.jsx)(n.code,{children:"bash"}),") can require second confirmation in Web/control-chat contexts; pass ",(0,i.jsx)(n.code,{children:"__microclaw_approval.token"})," from the previous error message when prompted"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"recommended-workflow-for-teams",children:"Recommended workflow for teams"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Keep ",(0,i.jsx)(n.code,{children:"mcp.minimal.example.json"})," as baseline."]}),"\n",(0,i.jsx)(n.li,{children:"Add remote MCP servers one-by-one, with explicit owners."}),"\n",(0,i.jsx)(n.li,{children:"Add skills in small focused folders."}),"\n",(0,i.jsxs)(n.li,{children:["Validate each addition with ",(0,i.jsx)(n.code,{children:"/skills"})," + one real task prompt."]}),"\n",(0,i.jsx)(n.li,{children:"Track changes in GitHub Releases and project roadmap docs."}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(t,{...e})}):t(e)}},8453(e,n,s){s.d(n,{R:()=>d,x:()=>c});var l=s(6540);const i={},r=l.createContext(i);function d(e){const n=l.useContext(r);return l.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:d(e.components),l.createElement(r.Provider,{value:n},e.children)}}}]);