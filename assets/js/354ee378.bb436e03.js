"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[7919],{536(e,n,i){i.r(n),i.d(n,{assets:()=>r,contentTitle:()=>o,default:()=>h,frontMatter:()=>t,metadata:()=>s,toc:()=>a});const s=JSON.parse('{"id":"channel-setup-slack","title":"Channel Setup - Slack","description":"Official Links","source":"@site/docs/channel-setup-slack.md","sourceDirName":".","slug":"/channel-setup-slack","permalink":"/docs/channel-setup-slack","draft":false,"unlisted":false,"editUrl":"https://github.com/microclaw/microclaw/tree/main/docs/channel-setup-slack.md","tags":[],"version":"current","frontMatter":{"id":"channel-setup-slack","title":"Channel Setup - Slack"},"sidebar":"docs","previous":{"title":"Channel Setup - Discord","permalink":"/docs/channel-setup-discord"},"next":{"title":"Channel Setup - Feishu / Lark","permalink":"/docs/channel-setup-feishu-lark"}}');var l=i(4848),c=i(8453);const t={id:"channel-setup-slack",title:"Channel Setup - Slack"},o=void 0,r={},a=[{value:"Official Links",id:"official-links",level:2},{value:"Token Provisioning",id:"token-provisioning",level:2},{value:"Single-token Single-bot",id:"single-token-single-bot",level:2},{value:"Multi-token Multi-bot",id:"multi-token-multi-bot",level:2},{value:"Verify",id:"verify",level:2}];function d(e){const n={a:"a",code:"code",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,c.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.h2,{id:"official-links",children:"Official Links"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"https://api.slack.com/apps",children:"Slack app dashboard"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"https://api.slack.com/apis/connections/socket",children:"Socket Mode guide"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"https://api.slack.com/scopes",children:"OAuth scopes reference"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"https://api.slack.com/apis/connections/events-api",children:"Event subscriptions"})}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"token-provisioning",children:"Token Provisioning"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsx)(n.li,{children:"Create app from scratch in target workspace."}),"\n",(0,l.jsxs)(n.li,{children:["Enable ",(0,l.jsx)(n.strong,{children:"Socket Mode"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:["Create app token (",(0,l.jsx)(n.code,{children:"xapp-..."}),") with ",(0,l.jsx)(n.code,{children:"connections:write"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:["Under ",(0,l.jsx)(n.strong,{children:"OAuth & Permissions"}),", add bot scopes:","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"chat:write"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"channels:history"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"groups:history"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"im:history"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"mpim:history"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"app_mentions:read"})}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["Install app to workspace and copy bot token (",(0,l.jsx)(n.code,{children:"xoxb-..."}),")."]}),"\n",(0,l.jsxs)(n.li,{children:["Enable events and add bot events:","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"message.channels"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"message.groups"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"message.im"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"message.mpim"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"app_mention"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"single-token-single-bot",children:"Single-token Single-bot"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-yaml",children:'channels:\n  slack:\n    enabled: true\n    bot_token: "xoxb-..."\n    app_token: "xapp-..."\n    # Optional global channel filter\n    # allowed_channels: ["C123ABC456"]\n'})}),"\n",(0,l.jsx)(n.h2,{id:"multi-token-multi-bot",children:"Multi-token Multi-bot"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-yaml",children:'channels:\n  slack:\n    enabled: true\n    default_account: "main"\n    accounts:\n      main:\n        enabled: true\n        bot_token: "xoxb-main..."\n        app_token: "xapp-main..."\n      support:\n        enabled: true\n        bot_token: "xoxb-support..."\n        app_token: "xapp-support..."\n        # Optional per-account channel filter\n        # allowed_channels: ["C123ABC456"]\n'})}),"\n",(0,l.jsx)(n.p,{children:"Notes:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["One bot identity = one ",(0,l.jsx)(n.code,{children:"xoxb"})," + one ",(0,l.jsx)(n.code,{children:"xapp"})," pair."]}),"\n",(0,l.jsxs)(n.li,{children:["Multi-account is useful for env separation (",(0,l.jsx)(n.code,{children:"prod"}),", ",(0,l.jsx)(n.code,{children:"staging"}),", ",(0,l.jsx)(n.code,{children:"support"}),")."]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"verify",children:"Verify"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"microclaw start"})}),"\n",(0,l.jsxs)(n.li,{children:["DM each bot ",(0,l.jsx)(n.code,{children:"/skills"})]}),"\n",(0,l.jsxs)(n.li,{children:["Test ",(0,l.jsx)(n.code,{children:"@mention"})," in allowed channels."]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,c.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(d,{...e})}):d(e)}},8453(e,n,i){i.d(n,{R:()=>t,x:()=>o});var s=i(6540);const l={},c=s.createContext(l);function t(e){const n=s.useContext(c);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:t(e.components),s.createElement(c.Provider,{value:n},e.children)}}}]);